/*! jQuery scrollToTop - v0.3.1 - 2014-05-07
* https://github.com/amazingSurge/jquery-scrollToTop
* Copyright (c) 2014 amazingSurge; Licensed GPL */
(function(n,t,i,r){"use strict";var u=function(f){var o,e;this.$doc=i("body");this.options=i.extend(u.defaults,f);o=this.options.namespace;this.options.skin===null&&(this.options.skin="default");this.classes={skin:o+"_"+this.options.skin,trigger:o,animating:o+"_animating",show:o+"_show"};this.disabled=!1;this.useMobile=!1;this.isShow=!1;e=this;i.extend(e,{init:function(){e.transition=e.transition();e.build();e.options.target?typeof e.options.target=="number"?e.target=e.options.target:typeof e.options.target=="string"&&(e.target=Math.floor(i(e.options.target).offset().top)):e.target=0;e.$trigger.on("click.scrollToTop",function(){return e.$doc.trigger("ScrollToTop::jump"),!1});e.$doc.on("ScrollToTop::jump",function(){var t,r,u;if(!e.disabled)if(e.checkMobile(),e.useMobile?(t=e.options.mobile.speed,r=e.options.mobile.easing):(t=e.options.speed,r=e.options.easing),e.$doc.addClass(e.classes.animating),e.transition.supported){u=i(n).scrollTop();e.$doc.css({"margin-top":-u+e.target+"px"});i(n).scrollTop(e.target);e.insertRule(".duration_"+t+"{"+e.transition.prefix+"transition-duration: "+t+"ms;}");e.$doc.addClass("easing_"+r+" duration_"+t).css({"margin-top":""}).one(e.transition.end,function(){e.$doc.removeClass(e.classes.animating+" easing_"+r+" duration_"+t)})}else{i("html, body").stop(!0,!1).animate({scrollTop:e.target},t,function(){e.$doc.removeClass(e.classes.animating)});return}}).on("ScrollToTop::show",function(){e.isShow||(e.isShow=!0,e.$trigger.addClass(e.classes.show))}).on("ScrollToTop::hide",function(){e.isShow&&(e.isShow=!1,e.$trigger.removeClass(e.classes.show))}).on("ScrollToTop::disable",function(){e.disabled=!0;e.$doc.trigger("ScrollToTop::hide")}).on("ScrollToTop::enable",function(){e.disabled=!1;e.toggle()});i(n).on("scroll",e._throttle(function(){e.disabled||e.toggle()},e.options.throttle));if(e.options.mobile)i(n).on("resize",e._throttle(function(){e.disabled||e.checkMobile()},e.options.throttle));e.toggle()},checkMobile:function(){var t=i(n).width();e.useMobile=t<e.options.mobile.width?!0:!1},build:function(){e.$trigger=e.options.trigger?i(e.options.trigger):i('<a href="#" class="'+e.classes.trigger+" "+e.classes.skin+'">'+e.options.text+"<\/a>").appendTo(i("body"));e.insertRule("."+e.classes.show+"{"+e.transition.prefix+"animation-duration: "+e.options.animationSpeed+"ms;"+e.transition.prefix+"animation-name: "+e.options.namespace+"_"+e.options.animation+";}");e.options.mobile&&e.insertRule("@media (max-width: "+e.options.mobile.width+"px){."+e.classes.show+"{"+e.transition.prefix+"animation-duration: "+e.options.mobile.animationSpeed+"ms !important;"+e.transition.prefix+"animation-name: "+e.options.namespace+"_"+e.options.mobile.animation+"  !important;}}")},can:function(){var t;return t=e.useMobile?e.options.mobile.distance:e.options.distance,i(n).scrollTop()>t?!0:!1},toggle:function(){e.can()?e.$doc.trigger("ScrollToTop::show"):e.$doc.trigger("ScrollToTop::hide")},transition:function(){var i,u,f="",e=!1,s=t.createElement("fakeelement"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(i in o)if(s.style[i]!==r){u=o[i];e=!0;break}return/(WebKit)/i.test(n.navigator.userAgent)&&(f="-webkit-"),{prefix:f,end:u,supported:e}},insertRule:function(n){if(!e.rules||!e.rules[n]){e.rules===r?e.rules={}:e.rules[n]=!0;var i=t.createElement("style");i.innerHTML=n;t.head.appendChild(i)}},_throttle:function(n,t){var o=Date.now||function(){return(new Date).getTime()},i,r,f,u=null,e=0,s=function(){e=o();u=null;f=n.apply(i,r);i=r=null};return function(){var h=o(),c=t-(h-e);return i=this,r=arguments,c<=0?(clearTimeout(u),u=null,e=h,f=n.apply(i,r),i=r=null):u||(u=setTimeout(s,c)),f}}});this.init()};u.defaults={distance:200,speed:1e3,easing:"linear",animation:"fade",animationSpeed:500,mobile:{width:768,distance:100,speed:1e3,easing:"easeInOutElastic",animation:"slide",animationSpeed:200},trigger:null,target:null,text:"Scroll To Top",skin:null,throttle:250,namespace:"scrollToTop"};u.prototype={constructor:u,jump:function(){this.$doc.trigger("ScrollToTop::jump")},disable:function(){this.$doc.trigger("ScrollToTop::disable")},enable:function(){this.$doc.trigger("ScrollToTop::enable")},destroy:function(){this.$trigger.remove();this.$doc.data("ScrollToTop",null);this.$doc.off("ScrollToTop::enable").off("ScrollToTop::disable").off("ScrollToTop::jump").off("ScrollToTop::show").off("ScrollToTop::hide")}};i.fn.scrollToTop=function(n){if(typeof n=="string"){var t=n,f=arguments.length>1?Array.prototype.slice.call(arguments,1):r;return this.each(function(){var n=i.data(this,"scrollToTop");n&&typeof n[t]=="function"&&n[t].apply(n,f)})}return this.each(function(){var t=i.data(this,"scrollToTop");t||(t=new u(n),i.data(this,"scrollToTop",t))})}})(window,document,jQuery);